---
title: "Что такое Uniswap и как он работает?"
description: "Uniswap - это децентрализованный протокол обмена токенами на блокчейне Ethereum, позволяющий пользователям обменивать криптовалюты без посредников. Этот протокол базируется на принципе автоматического создания и управления ликвидными пулами, что делает его инновационным инструментом в мире децентрализованных финансов."
level: "advanced"
coverImage: "/assets/blog/what-is-uniswap-and-how-does-it-work/cover.png"
date: "2023-10-18T05:35:07.322Z"
time: 7
ogImage:
  url: "/assets/what-is-uniswap-and-how-does-it-work/t/cover.png"
tags:
  - altcoin
---


## Введение

В течение длительного времени централизованные криптовалютные биржи были столпом рынка. Их преимущества включали быстрые торговые операции, большой объем сделок и непрерывное увеличение ликвидности. Однако параллельно с этим миром существует и иной, построенный на принципах децентрализации. Децентрализованные биржи (DEX) – это платформы, которые не требуют посредников и доверяют хранение средств участникам.

Из-за ограничений, накладываемых технологией блокчейн, создание децентрализованных бирж, способных конкурировать с централизованными аналогами, оказывается нетривиальной задачей. Множество DEX-ов имеют недостатки как с точки зрения производительности, так и в плане удобства использования для пользователей.

Многие разработчики находятся в поиске новых методов для создания децентрализованных бирж. Один из таких первопроходцев – Uniswap. Принципы функционирования Uniswap несколько отличаются от традиционных DEX-ов, но впоследствии становится ясно, что у этой модели есть значительные преимущества.

Благодаря своим инновациям, Uniswap стал одним из наиболее успешных проектов в области децентрализованных финансов (DeFi).

Итак, давайте более подробно рассмотрим, что представляет собой протокол Uniswap, как он функционирует и как пользователи могут обменивать токены, используя кошелек Ethereum.

<!-- banner_place -->

## Что такое Uniswap?
Uniswap - это децентрализованный протокол обмена, разработанный на платформе Ethereum. Более точно, он является автоматизированным протоколом ликвидности. Однако важно отметить, что для использования Uniswap не требуется централизованная книга ордеров или какая-либо посредническая структура. Этот протокол позволяет пользователям совершать обмены без посредников, при этом поддерживая высокую степень децентрализации и устойчивость к цензуре.

Uniswap - это программное обеспечение с открытым исходным кодом, и вы можете найти его репозиторий на GitHub Uniswap.

Но как же возможно торговать без книги ордеров? Uniswap использует инновационную модель, в которой поставщики ликвидности создают пулы ликвидности. Это создает децентрализованный механизм ценообразования, который отличается от традиционных книг ордеров. Более подробно мы рассмотрим этот процесс, но на данном этапе важно запомнить, что пользователи могут обменивать токены ERC-20 на Uniswap без необходимости просматривать книгу ордеров.

Поскольку Uniswap - децентрализованный протокол, здесь отсутствует необходимость в "листинге" токенов. По сути, любой токен ERC-20 может быть добавлен, если доступен соответствующий пул ликвидности. Важно отметить, что на Uniswap нет комиссий за листинг. Это делает протокол Uniswap своего рода "общественным благом".

Протокол Uniswap был создан Хайденом Адамсом в 2018 году, но технология, на которой он основан, была впервые представлена Виталиком Бутериным, одним из сооснователей Ethereum.

## Как работает Uniswap?
Uniswap представляет собой протокол, который отличается от традиционных бирж и книги ордеров. Он использует модель, называемую "Constant Product Market Maker," которая является вариантом "Automated Market Maker" (AMM), или автоматического маркет-мейкера.

AMM - это смарт-контракты с резервами ликвидности, которые позволяют трейдерам проводить обмены. Поставщики ликвидности финансируют эти резервы, и кто угодно может стать поставщиком ликвидности. Для этого им нужно внести эквивалентную стоимость двух токенов в пул. Трейдеры, совершающие сделки, платят комиссии пулу, и эти комиссии затем распределяются между поставщиками ликвидности в зависимости от их вклада.

Когда поставщики ликвидности создают пулы, они вкладывают стоимость двух токенов. Пулы могут содержать, например, ETH и токены ERC-20. В обмен на свой вклад поставщики ликвидности получают "токены ликвидности," которые представляют их долю в пуле. Эти токены ликвидности могут быть обменяны на долю в пуле.

Принципиальная идея Uniswap заключается в том, что произведение количества каждого токена в пуле должно оставаться постоянным. Это означает, что общая ликвидность в пуле остается неизменной. Формула для этого принципа выглядит так: x * y = k, где x - количество одного токена в пуле, y - количество другого токена в пуле, и k - постоянное произведение.

Когда трейдер совершает сделку, например, покупает ETH за USDT, он изменяет баланс пула путем увеличения количества USDT и уменьшения количества ETH. По сути, это увеличивает цену ETH, так как в пуле становится меньше ETH, и произведение k остается постоянным. Это изменение соотношения между x и y определяет цену.

Важно отметить, что данная модель не масштабируется линейно. Большие сделки приводят к более сильным изменениям в балансе между x и y, что делает их более дорогими по цене по сравнению с маленькими сделками. Увеличение пула ликвидности помогает снизить проскальзывание при обработке крупных сделок, так как уменьшает разницу между x и y.

## Uniswap v3: Эволюция Технологии и Важнейшие Новшества

Технология, лежащая в основе Uniswap, прошла через несколько итераций. Если вы когда-либо использовали Uniswap, вероятно, это была версия Uniswap v2. Но мир технологий постоянно развивается, и теперь давайте рассмотрим ключевые инновации в Uniswap v3.

### Эффективное Использование Капитала

Одним из существенных изменений в Uniswap v3 является повышение эффективности использования капитала. Большинство Автоматизированных Рыночных Создателей (AMM) страдают от неэффективности капитала, где значительные средства остаются неиспользованными. Это связано с моделью x*y=k, о которой было упомянуто ранее. Простыми словами, чем больше ликвидности в пуле, тем больше ордеров система способна поддерживать в широком диапазоне цен.

### Индивидуальные Диапазоны Цен

Поставщики ликвидности (LP) в Uniswap v3 теперь могут настраивать индивидуальные диапазоны цен, в которых они желают предоставлять ликвидность. Это позволяет сосредоточить ликвидность в диапазоне цен, где происходит наибольшее количество сделок. Фактически, Uniswap v3 представляет собой элементарный способ создания ончейн-книги ордеров на Ethereum, где маркет-мейкеры могут принимать решения о предоставлении ликвидности в выбранных ими ценовых диапазонах.

### NFT-Токены для LP-Позиций

Уникальность каждой LP-позиции в Uniswap v3 означает, что каждая из них представлена в виде невзаимозаменяемого токена (NFT). Это открывает новые возможности для использования LP-позиций в других частях экосистемы DeFi. В Uniswap v2, LP-токены можно было использовать в протоколах, таких как Aave или MakerDAO, в качестве обеспечения. Однако в Uniswap v3 это невозможно из-за уникальности каждой позиции.

### Uniswap на Уровне 2

Увеличение комиссий за транзакции на Ethereum в последний год сделало использование Uniswap экономически невыгодным для многих пользователей с ограниченными средствами. В ответ на это Uniswap v3 будет развернут на втором уровне масштабирования под названием "Optimistic rollup" (Оптимистический роллап). Это надежный метод масштабирования смарт-контрактов в безопасной среде Ethereum, что, в свою очередь, должно увеличить пропускную способность транзакций и снизить комиссии для пользователей.

## Что такое непостоянные потери?
Непостоянные потери (impermanent loss) - это понятие, связанное с недавно добавленными в автоматизированный рыночный мейкер (AMM) пулами, такими как те, которые предоставляются Uniswap. Это явление возникает из-за разницы в изменении цен между двумя активами в пуле.

Допустим, у вас есть AMM-пул, состоящий из двух активов, например, ETH и USDT, и вы внесли равное количество обоих активов в пул, чтобы создать ликвидность. Важно заметить, что в AMM-пуле цена активов зависит от их относительного количества. Если цена ETH увеличивается по отношению к USDT, то равновесие в пуле нарушается, и вы начинаете терять деньги, что называется непостоянными потерями.

Причина этой потери заключается в том, что при росте цены ETH многие арбитражеры покупают ETH из пула по более низкой цене, чем на рынке, и продавая его на рынке по более высокой цене, чтобы вернуть равновесие пула. Этот процесс увеличивает количество USDT в вашем пуле, но уменьшает количество ETH, что в конечном итоге ведет к потере прибыли.

Когда вы снимаете средства из пула, вы можете заметить, что ваш баланс активов изменился, и это изменение может быть как положительным, так и отрицательным в зависимости от движения цен активов в пуле.

Непостоянные потери являются одним из недостатков предоставления ликвидности в AMM-пулах, и они могут усугубляться при быстром изменении цен активов. Поставщики ликвидности должны учитывать этот фактор и анализировать свои потенциальные потери перед решением о предоставлении ликвидности в подобных пулах.

## Как Uniswap генерирует доход?
Uniswap - это децентрализованный протокол, поддерживаемый компанией Paradigm, занимающейся криптовалютными фондами. Все комиссии идут поставщикам ликвидности, и ни один из основателей не получает процент от сделок, проводимых через протокол.

На данный момент комиссия за транзакцию для поставщиков ликвидности составляет 0,3% от суммы сделки. По умолчанию заработанные комиссии добавляются в пул ликвидности, но поставщики ликвидности могут извлечь их в любой момент. Комиссии распределяются согласно доле каждого поставщика ликвидности в пуле.

Часть комиссий может быть выделена на будущее развитие Uniswap. Команда Uniswap уже выпустила усовершенствованную версию протокола под названием Uniswap v2.

## Как пользоваться Uniswap
Для использования Uniswap, выполните следующие шаги:

1. Посетите интерфейс Uniswap, доступный по адресам https://app.uniswap.org или https://uniswap.exchange.

2. Подключите свой Ethereum-кошелек. Вы можете использовать MetaMask, Trust Wallet или другой поддерживаемый кошелек Ethereum. Следуйте инструкциям на сайте для подключения вашего кошелька.

3. Выберите токен, который вы хотите обменять (выставить на продажу).

4. Выберите токен, который вы хотите получить в обмен на предыдущий токен (покупка).

5. Нажмите на кнопку "Swap" (Обменять).

6. Проверьте информацию о вашей транзакции во всплывающем окне. Удостоверьтесь, что суммы и другие детали верны.

7. Подтвердите выполнение транзакции в своем кошельке. Вам может потребоваться подтверждение с помощью пароля или биометрических данных, в зависимости от вашего кошелька.

8. Дождитесь подтверждения вашей транзакции в блокчейне Ethereum. Вы можете отслеживать статус транзакции на сайте https://etherscan.io/.

После завершения этих шагов, ваша транзакция будет обработана, и вы получите токены, которые вы указали в обмен на ваши исходные токены. Убедитесь, что вы понимаете процесс и риски, связанные с обменом криптовалют на Uniswap, прежде чем продолжить.

## Токен Uniswap (UNI)
Токен UNI представляет собой собственный токен протокола Uniswap и предоставляет держателям право участия в управлении протоколом. Владельцы UNI могут голосовать за изменения и улучшения в протоколе Uniswap, что делает их частью принятия решений по его будущему развитию.

Изначально было создано 1 миллиард токенов UNI. Из этого общего объема 60% были распределены среди существующих участников сообщества Uniswap. Оставшиеся 40% предназначены для членов команды, инвесторов и консультантов и будут доступны им в течение четырех лет.

Часть токенов UNI также будет распределена сообществу, участвующему в добыче ликвидности на пулах Uniswap. Следующие пулы участвуют в этой программе:

ETH/USDT

ETH/USDC

ETH/DAI

ETH/WBTC

Чтобы иметь возможность получить токены UNI, необходимо быть частью сообщества Uniswap, взаимодействуя с контрактами протокола. UNI предоставляет голосовое право и стимулирует активное участие в сообществе и обеспечивание ликвидности для пулов Uniswap.

## Заключение
Uniswap представляет собой инновационный протокол обмена, разработанный на базе сети Ethereum. Этот протокол позволяет пользователям, обладающим кошельком Ethereum, обменивать токены между собой без необходимости участия централизованных посредников.

Несмотря на наличие некоторых ограничений, Uniswap предоставляет значительные преимущества, особенно в области обмена токенами, который не требует доверия к третьим лицам. После внедрения решений по масштабированию, связанных с Ethereum 2.0, Uniswap, скорее всего, получит новые возможности и улучшения, что сделает его еще более мощным и эффективным инструментом в мире децентрализованных финансов.

